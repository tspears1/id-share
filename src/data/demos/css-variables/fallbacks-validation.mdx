---
isDraft: false
slug: fallbacks-validation
title: Fallbacks & Validation
series: css-variables
sortOrder: 4
author: Tim Spears
pubDate: 2025-03-12
---
import { Sandbox } from '@components/molecules/Sandbox/Sandbox.jsx'
import Alert from '@components/molecules/Alert/Alert.astro'

![Fallbacks & Validation](https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExaHRjanhjbDJ6aXAzNXMybGdxM2J0ODYyZnp3ZnQwbjg2Ym00YXo1eSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/2t9oSryPso8ajMZsA8/giphy.gif)


## Fallbacks

Variable fallback are IMO the most **powerful feature** of CSS variables.

In this context, they don't refer to _brower support_ like we often think when we hear the term.

They are a way to define a **default** value for a variable.

```scss
--color-primary: var(--color-blue, hsl(219.6 100% 50.2%));
```

This is especially useful when you want to define a variable that will be used in multiple places,
or as a precaution when you don't know if a variable will be defined or to full-proof in the case of a typo.

<Sandbox client:load>
```html /index.html
<!DOCTYPE html>
<html>

<head>
  <title>ID Sandbox</title>
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="/base.css" />
  <link rel="stylesheet" href="/styles.css" />
</head>

<body>
  <div class="grid">
    <article class="card card--hope">
      <h2>Episode IV:</br>A New Hope</h2>
      <div class="skeleton-text"></div>
      <div class="skeleton-text"></div>
      <button>Watch</button>
    </article>
    <article class="card card--empire">
      <h2>Episode V:</br>The Empire Strikes Back</h2>
      <div class="skeleton-text"></div>
      <div class="skeleton-text"></div>
      <button>Watch</button>
    </article>
    <article class="card card--jedi">
      <h2>Episode VI:</br>Return of the Jedi</h2>
      <div class="skeleton-text"></div>
      <div class="skeleton-text"></div>
      <button>Watch</button>
    </article>
  </div>
</body>

</html>
```

```css /base.css hidden

:root {
  --global-border-radius: 0.25rem;
  --color-blue: hsl(219.6 100% 50.2%);
  --color-green: hsl(141.6 72.4% 45.2%);
  --color-red: hsl(0.7 89.6% 57.2%);
  --color-slate: hsl(227.1 29.5% 16.7%);
  --color-white: hsl(0 0% 100%);
}

body {
  background: var(--color-slate);
  border: 2px solid white;
  block-size: calc(100vh - 12px);
  display: grid;
  font-family: 'Silka', sans-serif;
  font-size: 1.125rem;
  margin: 0.25em;
  padding: 0 2rem;
  place-items: center;
}

.grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1rem;
}

h2 {
  font-size: 1.25rem;
  font-weight: bold;
  margin-block-start: 0;
}

.skeleton-text {
  block-size: 1.5rem;
  background: hsl(0 0% 90%);
  border-radius: 2px;
  inline-size: 90%;
}

button {
  appearance: none;
  background: hsl(0 0% 100%);
  border: 2px solid hsl(0 0% 50%);
  border-radius: 4px;
  font-size: 1rem;
  font-weight: bold;
  letter-spacing: 0.125em;
  padding: 0.5rem 1rem;
  text-transform: uppercase;
  margin-block-start: 1rem;
}

.card {
  display: grid;
  gap: 1rem;
  grid-template-rows: 1fr auto auto auto;
  padding: 2rem 1rem;
}
```

```css /styles.css active

.card {
  background: var(--color-white);
  border: solid var(--card-color-primary, gray);
  border-width: 12px 4px 4px;
  border-radius: var(--global-border-radius);

  h2 {
    color: var(--card-color-primary, gray);
  }

  button {
    border-radius: var(--global-border-radius);
    border-color: var(--card-color-primary, gray);
  }

  &:where(.card--hope) {
    --card-color-primary: var(--color-green);
  }

  &:where(.card--empire) {
    --card-color-primary: var(--color-blue);
  }

  &:where(.card--jedi) {

  }
}
```
</Sandbox>

Fallbacks can even have **their own** fallbacks!

There's no limit to how many fallbacks you can nest - _Just don't get carried away._

```scss
--article-block-spacing: var(--site-block-spacing, var(--bu-block-spacing, var(--size-fluid-5, 4rem)));
```

The fallback's true power comes into play when you leverage **UNDEFINED** variables as the fallback.

## [[ ADD EXAMPLE OF BUTTONS ]]


<Alert title="Thoughts on naming fallback variables" variant="warning">
   At all cost you should avoid naming fallback variables with phrases like `-default` or `-fallback` or `-override`.
   These names are too generic and can lead to confusion.
   And in the case of undefined fallbacks, you don't want to give the fallback variable the name of the variable it is overriding.

   In the next section we'll look at **Private Variables** and how they can be used to solve this problem.
</Alert>



## Validation

Unlike Sass variables, which are processed on build, CSS variables are processed on load.
